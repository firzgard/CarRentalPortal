<!DOCTYPE html>
<html>

<head>
    <title>Car Rental Port</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="./../../static/css/bootstrap.min.css" rel="stylesheet">
    <link href="./../../static/font-awesome/css/font-awesome.css" rel="stylesheet">
    <link href="./../../static/css/animate.css" rel="stylesheet">
    <link href="./../../static/css/style.css" rel="stylesheet">
    <link href="./../../static/css/plugins/chosen/chosen.css" rel="stylesheet">
    <link href="./../../static/css/plugins/dataTables/datatables.min.css" rel="stylesheet">
    <!-- JQGRID -->
    <link href="./../../static/css/plugins/jQueryUI/jquery-ui-1.10.4.custom.min.css" rel="stylesheet">
    <link href="./../../static/css/plugins/jqGrid/ui.jqgrid.css" rel="stylesheet">
    <!-- DROPZONE -->
    <link href="./../../static/css/plugins/dropzone/basic.css" rel="stylesheet">
    <link href="./../../static/css/plugins/dropzone/dropzone.css" rel="stylesheet"> </head>
<style>
    .chosen-container.chosen-container-single {
        width: 300px !important;
        /* or any value that fits your needs */
    }
    /*
    #my-awesome-dropzone {
        display: none;
        height: 300px;
        max-height: 300px;
    }
*/
</style>

<body>
    <div id="page-wrapper" class="gray-bg">
        <!--   Main     -->
        <div class="wrapper wrapper-content animated fadeInLeft">
            <div class="ibox float-e-margins">
                <div class="ibox-content">
                    <div>
                        <button class="btn btn-primary" id="btnAddVehiclePopup" onclick="addVehicleGroup()">Add vehicle group</button>
                    </div>
                </div>
            </div>
            <!--                    </form>-->
        </div>
    </div>
    <!-- Modal -->
    <div id="myModal" class="modal fade" role="dialog">
        <div class="modal-dialog modal-lg">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header modal-header-popup">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Add vehicle group</h4> </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <label>Name</label>
                            <input type="text" class="form-control required input-lg">
                            <label>Deposit</label>
                            <div class="input-group m-b boxForm text-center">
                                <input type="number" class="form-control"> <span class="input-group-addon">&#8363;</span></div>
                        </div>
                        <div class="col-md-6">
                            <label>Max rental period</label>
                            <div class="input-group m-b boxForm text-center">
                                <input type="number" class="form-control"> <span class="input-group-addon">day</span></div>
                            <label>Per day price</label>
                            <div class="input-group m-b boxForm text-center">
                                <input type="number" class="form-control"> <span class="input-group-addon">&#8363;</span></div>
                        </div>
                    </div>
                    <div class="ibox-content">
                        <label>Price rental</label>
                        <!--                        <div class="ibox ibox-content float-e-margins">-->
                        <table class="table table-striped table-bordered table-hover " id="garages"></table>
                        <!--                        </div>-->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button class="btn btn-primary" type="submit">Save changes</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Mainly scripts -->
    <script src="./../../static/js/jquery-2.1.1.js"></script>
    <script src="./../../static/js/bootstrap.min.js"></script>
    <script src="./../../static/js/plugins/metisMenu/jquery.metisMenu.js"></script>
    <script src="./../../static/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
    <script src="./../../static/js/plugins/jeditable/jquery.jeditable.js"></script>
    <script src="./../../static/js/plugins/dataTables/datatables.min.js"></script>
    <!-- iCheck -->
    <script src="./../../static/js/plugins/iCheck/icheck.min.js"></script>
    <!-- Select2 -->
    <script src="./../../static/js/plugins/select2/select2.full.min.js"></script>
    <!-- Custom and plugin javascript -->
    <!--
    <script src="./../../static/js/inspinia.js"></script>
    <script src="./../../static/js/plugins/pace/pace.min.js"></script>
-->
    <!-- Chosen -->
    <script src="./../../static/js/plugins/chosen/chosen.jquery.js"></script>
    <!-- DROPZONE -->
    <script src="./../../static/js/plugins/dropzone/dropzone.js"></script>
    <!-- jqGrid -->
    <script src="./../../static/js/plugins/jqGrid/i18n/grid.locale-en.js"></script>
    <script src="./../../static/js/plugins/jqGrid/jquery.jqGrid.min.js"></script>
    <script>
        $(document).ready(function () {
            var table = $('#garages').DataTable({
                data: mockupData
                , columnDefs: [
                    {
                        // Render action button
                        targets: 3
                        , render: (data, type, row) => {
                            return `<span class="input-group-btn">
              <button type="button" class="btn btn-danger btn-number minus-btn"  data-type="minus" data-field="quant[2]">
                <span class="glyphicon glyphicon-minus"></span>
              </button>
          </span>
          
          <span class="input-group-btn">
              <button type="button" class="btn btn-success btn-number plus-btn" data-type="plus" data-field="quant[2]">
                  <span class="glyphicon glyphicon-plus"></span>
              </button>q
          </span>`;
                        }
			}
		]
                , columns: [
                    {
                        data: 'class'
                        , visible: false
                    }
                    , {
                        title: 'Max time'
                        , data: 'time'
                        , width: '50%'
                    }
                    , {
                        title: 'Price'
                        , data: 'price'
                        , width: '50%'
                    }

		]
            });

            function bindMinusBtn() {
                $('.minus-btn').unbind('click').click(function () {
                    table.row($(this).parents('tr')).remove().draw();
                });
            }
            bindMinusBtn();
            (function bindPlusBtn() {
                $('.plus-btn').unbind('click').click(function () {
                    table.row.add({
                        "class": 0
                        , "time": 0
                        , "price": 0
                    }).draw();
                    bindPlusBtn();
                    bindMinusBtn();
                });
            })();
        });
        const mockupData = [
            {
                "class": 1
                , "time": "1"
                , "price": "100000"
            }
            , {
                "class": 2
                , "time": "2"
                , "price": "100000"
            }
            , {
                "class": 4
                , "time": "4"
                , "price": "100000"
            }

];

        function addVehicleGroup() {
            $('#myModal').modal('show');
        }
    </script>
</body>

</html>