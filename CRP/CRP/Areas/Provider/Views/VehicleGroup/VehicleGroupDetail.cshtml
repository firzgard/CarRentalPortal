@model CRP.Models.ViewModels.VehicleGroupViewModel
@{
    ViewBag.Title = "VehicleGroupDetail";
    Layout = "~/Views/Shared/_ManagementLayout.cshtml";
}

<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-md-10"><h2>Car group detail</h2></div>
</div>
<div class="wrapper wrapper-content animated fadeInRight">
    <div class="col-lg-12">
        <div class="ibox float-e-margins">
            <div class="ibox-content">
                <div class="ibox ibox-content float-e-margins">
                        @Html.HiddenFor(q => q.ID, new { @id= "groupID" } )
                        @Html.HiddenFor(q => q.IsActive, new { @id= "isActive" } )
                        <div class="row form-group">
                            <div class="col-md-12">
                                <div class="input-group">
                                    <span class="input-group-addon"><i class="fa fa-building-o"></i></span>
                                    @Html.TextBoxFor(q => q.Name, new { @id= "groupName", @class = "form-control input-lg" , @placeholder = "Group name", required = true })
                                </div>
                            </div>
                        </div>
                        <div class="row form-group">
                            <div class="col-md-7">
                                <div class="form-group">
                                    <label for="MaxRental">Max rental period:</label>
                                    <div class="input-group m-b boxForm text-center">
                                        @Html.TextBoxFor(q => q.MaxRentalPeriod, new { @type="number", @class = "form-control", required = true}) <span class="input-group-addon">day</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Deposit:</label>
                                    <div class="input-group m-b boxForm text-center">
                                        @Html.HiddenFor(q => q.PriceGroup.DepositPercentage, new { @id = "deposit" })
                                        <input type="text" id="depositDisplay" class="form-control" required/><span class="input-group-addon">%</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Per day price:</label>
                                    <div class="input-group m-b boxForm text-center">
                                        @Html.TextBoxFor(q => q.PriceGroup.PerDayPrice, new { @class = "form-control", required = true}) <span class="input-group-addon">₫</span>
                                    </div>
                                </div>

                            </div>
                            <div class="col-md-5">
                                <div class="form-group">
                                    <div class="pull-right">
                                        <button type="button" class="btn btn-primary btn-number plus-btn" data-type="plus">
                                            <i class="fa fa-plus"></i> Add Item
                                        </button>
                                    </div>
                                    <h2>Price rental</h2>
                                    <table class="table table-striped table-bordered table-hover " id="priceGroupItem"></table>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="btn-group">
                                <button id="activationBtn" class="btn btn-warning" data-toggle="modal" data-target="#customModal"></button>
                                <button class="btn btn-primary pull-right">Save changes</button>
                            </div>
                        </div>
                </div>
            </div>
        </div>
    </div>
    <div class="ibox ibox-content float-e-margins">
        <button data-toggle="modal" data-target="#customModal" data-action="createVehicle" class="btn btn-success pull-right" style="margin-bottom: 1em;">
            <i class="fa fa-plus"></i> New vehicle
        </button>
        <table class="table table-striped table-bordered table-hover" width="100%" id="vehicles">
            <thead></thead>
            <tfoot id="multiFilter">
                <tr>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <!-- Vehicle's name filter -->
                    <th>
                        <div id="vehicleNameFilter" class="btn-group">
                            <button class="btn btn-primary filter-toggle">
                                <i class="fa fa-search"></i>
                            </button>
                            <div class="dropdown-menu filter-dropdown">
                                <div class="input-group">
                                    <input type="text" class="form-control" placeholder="Vehicle Name...">
                                    <span class="input-group-btn">
                                        <button class="btn btn-primary"><i class="fa fa-search"></i></button>
                                    </span>
                                </div>
                            </div>
                            <button class="btn btn-warning filter-remove">
                                <i class="fa fa-times"></i>
                            </button>
                        </div>
                    </th>
                    <!-- Model filter -->
                    <th>
                        <div id="modelFilter" class="btn-group">
                            <button class="btn btn-primary filter-toggle">
                                <i class="fa fa-search"></i>
                            </button>
                            <div class="dropdown-menu filter-dropdown">
                                <button class="btn btn-primary btn-block">Filter <i class="fa fa-search"></i></button>
                                <div class="scroller">
                                    <div id="modelTree">
                                        <ul>
                                            <li data-node-lvl="1" data-node-id="1">
                                                Audi
                                                <ul>
                                                    <li data-node-lvl="2" data-node-id="1">A1</li>
                                                    <li data-node-lvl="2" data-node-id="2">A6</li>
                                                    <li data-node-lvl="2" data-node-id="3">A7</li>
                                                    <li data-node-lvl="2" data-node-id="4">A8</li>
                                                    <li data-node-lvl="2" data-node-id="5">Q3</li>
                                                    <li data-node-lvl="2" data-node-id="6">Q7</li>
                                                    <li data-node-lvl="2" data-node-id="7">TT</li>
                                                    <li data-node-lvl="2" data-node-id="8">TTS</li>
                                                </ul>
                                            </li>
                                            <li data-node-lvl="1" data-node-id="2">
                                                BMW
                                                <ul>
                                                    <li data-node-lvl="2" data-node-id="9">320i</li>
                                                    <li data-node-lvl="2" data-node-id="10">520i</li>
                                                    <li data-node-lvl="2" data-node-id="11">M3</li>
                                                    <li data-node-lvl="2" data-node-id="12">M6</li>
                                                    <li data-node-lvl="2" data-node-id="13">X3</li>
                                                    <li data-node-lvl="2" data-node-id="14">X5</li>
                                                    <li data-node-lvl="2" data-node-id="15">X6</li>
                                                    <li data-node-lvl="2" data-node-id="16">Z4</li>
                                                </ul>
                                            </li>
                                            <li data-node-lvl="1" data-node-id="3">
                                                Ford
                                                <ul>
                                                    <li data-node-lvl="2" data-node-id="17">Fiesta Mk5</li>
                                                    <li data-node-lvl="2" data-node-id="18">Fiesta Mk6</li>
                                                    <li data-node-lvl="2" data-node-id="19">Focus Mk2</li>
                                                    <li data-node-lvl="2" data-node-id="20">Focus Mk3</li>
                                                </ul>
                                            </li>
                                            <li data-node-lvl="1" data-node-id="4">
                                                Toyota
                                                <ul>
                                                    <li data-node-lvl="2" data-node-id="21">Camry</li>
                                                    <li data-node-lvl="2" data-node-id="22">Corolla Altis</li>
                                                    <li data-node-lvl="2" data-node-id="23">Innova</li>
                                                    <li data-node-lvl="2" data-node-id="24">Land Cruiser</li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-warning filter-remove">
                                <i class="fa fa-times"></i>
                            </button>
                        </div>
                    </th>
                    <!-- Category filter -->
                    <th>
                        <div id="categoryFilter" class="btn-group">
                            <button class="btn btn-primary filter-toggle">
                                <i class="fa fa-search"></i>
                            </button>
                            <div class="dropdown-menu filter-dropdown">
                                <button class="btn btn-primary btn-block">Filter <i class="fa fa-search"></i></button>
                                <div class="scroller">
                                    <div class="input-group" id="typeTree">
                                        <div class="checkbox checkbox-success">
                                            <input value="Micro Car" id="categoryMicroCar" type="checkbox" />
                                            <label for="categoryMicroCar">Micro Car</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input value="Minicar" id="categoryMinivan" type="checkbox" />
                                            <label for="categoryMinivan">Minivan</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input value="Pickup Truck" id="categoryPickupTruck" type="checkbox" />
                                            <label for="categoryPickupTruck">Pickup Truck</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input value="Station Wagon" id="categoryStationWagon" type="checkbox" />
                                            <label for="categoryStationWagon">Station Wagon</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input value="Sedan" id="categorySedan" type="checkbox" />
                                            <label for="categorySedan">Sedan</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input value="SUV" id="categorySUV" type="checkbox" />
                                            <label for="categorySUV">SUV</label>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-warning filter-remove">
                                <i class="fa fa-times"></i>
                            </button>
                        </div>
                    </th>
                    <!-- Year filter -->
                    <th>
                        <div id="yearFilter" class="btn-group">
                            <button class="btn btn-primary filter-toggle">
                                <i class="fa fa-search"></i>
                            </button>
                            <div class="dropdown-menu filter-dropdown">
                                <div class="input-group">
                                    <span class="input-group-addon"><b>From</b></span>
                                    <input type="number" min="1900" max="2016" class="form-control from-input">
                                    <span class="input-group-addon"><b>To</b></span>
                                    <input type="number" min="1900" max="2016" class="form-control to-input">
                                    <span class="input-group-btn">
                                        <button class="btn btn-primary"><i class="fa fa-search"></i></button>
                                    </span>
                                </div>
                            </div>
                            <button class="btn btn-warning filter-remove">
                                <i class="fa fa-times"></i>
                            </button>
                        </div>
                    </th>
                    <!-- Seat filter -->
                    <th>
                        <div id="seatFilter" class="btn-group">
                            <button class="btn btn-primary filter-toggle">
                                <i class="fa fa-search"></i>
                            </button>
                            <div class="dropdown-menu filter-dropdown">
                                <div class="input-group">
                                    <div class="input-group">
                                        <span class="input-group-addon"><b>From</b></span>
                                        <input type="number" min="1" max="99" class="form-control from-input">
                                        <span class="input-group-addon"><b>To</b></span>
                                        <input type="number" min="1" max="99" class="form-control to-input">
                                        <span class="input-group-btn">
                                            <button class="btn btn-primary"><i class="fa fa-search"></i></button>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-warning filter-remove"> <i class="fa fa-times"></i> </button>
                        </div>
                    </th>
                    <!-- Transmission filter -->
                    <th>
                        <div id="transmissionFilter" class="btn-group">
                            <button class="btn btn-primary filter-toggle"> <i class="fa fa-search"></i> </button>
                            <div class="dropdown-menu filter-dropdown">
                                <button class="btn btn-primary btn-block">Filter <i class="fa fa-search"></i></button>
                                <div class="scroller">
                                    <div class="input-group" id="transmissionSelector">
                                        <div class="checkbox checkbox-success">
                                            <input value="Automatic" id="transmissionAutomatic" type="checkbox" />
                                            <label for="transmissionAutomatic">Automatic</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input value="Manual" id="transmissionManual" type="checkbox" />
                                            <label for="transmissionManual">Manual</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-warning filter-remove"> <i class="fa fa-times"></i> </button>
                        </div>
                    </th>
                    <!-- Fuel filter -->
                    <th>
                        <div id="fuelFilter" class="btn-group">
                            <button class="btn btn-primary filter-toggle"> <i class="fa fa-search"></i> </button>
                            <div class="dropdown-menu filter-dropdown">
                                <button class="btn btn-primary btn-block">Filter <i class="fa fa-search"></i></button>
                                <div class="scroller">
                                    <div class="input-group" id="fuelSelector">
                                        <div class="checkbox checkbox-success">
                                            <input value="Ammonia" id="fuelAmmonia" type="checkbox" />
                                            <label for="fuelAmmonia">Ammonia</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input value="Bioalcohol" id="fuelBioalcohol" type="checkbox" />
                                            <label for="fuelBioalcohol">Bioalcohol</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input value="Biodiesel" id="fuelBiodiesel" type="checkbox" />
                                            <label for="fuelBiodiesel">Biodiesel</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input value="Biogas" id="fuelBiogas" type="checkbox" />
                                            <label for="fuelBiogas">Biogas</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input value="Compressed Natural Gas" id="fuelCNG" type="checkbox" />
                                            <label for="fuelCNG">Compressed Natural Gas</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input value="Diesel" id="fuelDiesel" type="checkbox" />
                                            <label for="fuelDiesel">Diesel</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input value="Electric" id="fuelElectric" type="checkbox" />
                                            <label for="fuelElectric">Electric</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input value="Flexible" id="fuelFlexible" type="checkbox" />
                                            <label for="fuelFlexible">Flexible</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input value="Hybrid Electric" id="fuelHybridElectric" type="checkbox" />
                                            <label for="fuelHybridElectric">Hybrid Electric</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input value="Hydrogen" id="fuelHydrogen" type="checkbox" />
                                            <label for="fuelHydrogen">Hydrogen</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input value="Liquefied Natural Gas" id="fuelLNG" type="checkbox" />
                                            <label for="fuelLNG">Liquefied Natural Gas</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input value="Liquefied Petroleum Gas" id="fuelLPG" type="checkbox" />
                                            <label for="fuelLPG">Liquefied Petroleum Gas</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input value="Petrol" id="fuelPetrol" type="checkbox" />
                                            <label for="fuelPetrol">Petrol</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input value="Plug-in Hybrid Electric" id="fuelPluginHybridElectric" type="checkbox" />
                                            <label for="fuelPluginHybridElectric">Plug-in Hybrid Electric</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input value="Stream" id="fuelStream" type="checkbox" />
                                            <label for="fuelStream">Stream</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input value="Wood Gas" id="fuelWoodGas" type="checkbox" />
                                            <label for="fuelWoodGas">Wood Gas</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-warning filter-remove"> <i class="fa fa-times"></i> </button>
                        </div>
                    </th>
                    <!-- Group filter -->
                    <th>
                        <div id="groupFilter" class="btn-group">
                            <button class="btn btn-primary filter-toggle"> <i class="fa fa-search"></i> </button>
                            <div class="dropdown-menu filter-dropdown">
                                <button class="btn btn-primary btn-block">Filter <i class="fa fa-search"></i></button>
                                <div class="scroller">
                                    <div class="input-group" id="GroupSelector">
                                        <div class="checkbox checkbox-success">
                                            <input value="1" id="group1" type="checkbox" />
                                            <label for="group1">HCM garage</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input value="2" id="group2" type="checkbox" />
                                            <label for="group2">Hanoi Garage</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-warning filter-remove"> <i class="fa fa-times"></i> </button>
                        </div>
                    </th>
                    <!-- Action buttons for multi-select -->
                    <th>
                        <div class="btn-group">
                            <button data-toggle="dropdown" class="btn btn-primary btn-block dropdown-toggle" aria-expanded="false"> <i class="fa fa-gear"></i> Actions <i class="caret"></i> </button>
                            <ul class="dropdown-menu">
                                <li><a href="#" data-toggle="modal" data-target="#customModal" data-action="changeGroupMulti">Change Group</a></li>
                                <li><a href="#" data-toggle="modal" data-target="#customModal" data-action="changeGarageMulti">Change Garage</a></li>
                                <li><a href="#" data-toggle="modal" data-target="#customModal" data-action="deleteVehicleMulti">Delete Vehicle</a></li>
                            </ul>
                        </div>
                    </th>
                </tr>
            </tfoot>
        </table>
    </div>
</div>
<div class="modal fade" id="customModal" tabindex="-1" role="dialog"></div>

@{ BundleTable.Bundles.Add(new StyleBundle("~/Styles/VehicleGroupDetail")
                                          .Include("~/Content/awesome-bootstrap-checkbox.css",
                                              "~/Content/chosen.css",
                                              "~/Content/DataTables/css/dataTables.bootstrap.css",
                                              "~/Content/jsTree/themes/default/style.min.css",
                                              "~/Content/pageStyle/vehicleGroup.css"));
}
@section Styles {
    @Styles.Render("~/Styles/VehicleGroupDetail")
}
@{ BundleTable.Bundles.Add(new ScriptBundle("~/Scripts/VehicleGroupDetail")
                                           .Include("~/Scripts/chosen.jquery.js",
                                              "~/Scripts/DataTables/jquery.dataTables.js",
                                              "~/Scripts/DataTables/dataTables.bootstrap.js",
                                              "~/Scripts/utils/customModals.js",
                                              "~/Scripts/utils/generateUIElements.js",
                                              "~/Scripts/utils/generateCustomDataTablesFilters.js",
                                              "~/Scripts/jsTree3/jstree.min.js",
                                              "~/Scripts/pageScript/vehicleGroup.js"));
}
@section Scripts {
    @Scripts.Render("~/Scripts/VehicleGroupDetail")
}